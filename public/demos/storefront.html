<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Storefront - Tier 5 Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', sans-serif; }

    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideInRight {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    @keyframes slideOutRight {
      from { transform: translateX(0); }
      to { transform: translateX(100%); }
    }
    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes bounceIn {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .animate-fade-in-up { animation: fadeInUp 0.5s ease-out forwards; }
    .animate-slide-in-right { animation: slideInRight 0.3s ease-out forwards; }
    .animate-slide-out-right { animation: slideOutRight 0.3s ease-out forwards; }
    .animate-scale-in { animation: scaleIn 0.3s ease-out forwards; }
    .animate-bounce-in { animation: bounceIn 0.4s ease-out forwards; }
    .animate-spin { animation: spin 1s linear infinite; }

    /* Transitions */
    .view-transition {
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    /* Custom scrollbar */
    .custom-scroll::-webkit-scrollbar { width: 6px; }
    .custom-scroll::-webkit-scrollbar-track { background: transparent; }
    .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
  </style>
</head>
<body class="bg-gradient-to-b from-slate-950 to-slate-900 min-h-screen">
  <div id="app" class="flex flex-col items-center justify-center min-h-screen p-8">

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-6 right-6 z-[100] hidden">
      <div class="flex items-center gap-3 px-5 py-4 rounded-xl shadow-2xl bg-emerald-500 text-white animate-scale-in">
        <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
        <span id="toast-message" class="font-medium">Success!</span>
      </div>
    </div>

    <!-- Header -->
    <div class="text-center mb-8">
      <span class="inline-block px-3 py-1 bg-orange-500/10 border border-orange-500/20 rounded-full text-orange-400 text-xs font-medium mb-4">
        Tier 5 Package
      </span>
      <h2 class="text-3xl font-bold text-white mb-2">The Storefront</h2>
      <p class="text-slate-400">
        Full E-Commerce Solution for
        <span class="text-orange-400 font-semibold">₹4,999</span>
      </p>
    </div>

    <!-- Browser Mockup -->
    <div class="relative w-full max-w-5xl">
      <!-- Decorative Glows -->
      <div class="absolute -top-8 -right-8 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl pointer-events-none"></div>
      <div class="absolute -bottom-8 -left-8 w-40 h-40 bg-orange-500/20 rounded-full blur-3xl pointer-events-none"></div>

      <!-- Browser Frame -->
      <div class="relative rounded-2xl overflow-hidden border border-slate-700" style="box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.5), 0 30px 60px -30px rgba(0, 0, 0, 0.4);">

        <!-- Browser Header -->
        <div class="flex items-center justify-between px-4 py-3 bg-slate-900 border-b border-slate-700">
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-red-500"></div>
            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
            <div class="w-3 h-3 rounded-full bg-green-500"></div>
          </div>

          <!-- View Toggle -->
          <div class="absolute left-1/2 -translate-x-1/2 flex items-center bg-slate-800 rounded-xl p-1">
            <button id="btn-customer" onclick="switchView('customer')" class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all bg-white text-slate-900 shadow-lg">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
              Customer View
            </button>
            <button id="btn-merchant" onclick="switchView('merchant')" class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-400 hover:text-white">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
              </svg>
              Merchant Admin
            </button>
          </div>

          <!-- URL Bar -->
          <div id="url-bar" class="flex items-center gap-2 px-3 py-1.5 bg-slate-800 rounded-lg">
            <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
            <span class="text-xs text-slate-400">shopnow.store</span>
          </div>
        </div>

        <!-- Content Area -->
        <div class="relative overflow-hidden" style="height: 600px;">

          <!-- CUSTOMER VIEW -->
          <div id="view-customer" class="absolute inset-0 overflow-y-auto custom-scroll bg-gray-50 view-transition">

            <!-- Store Header -->
            <header class="bg-white border-b border-gray-100 sticky top-0 z-30">
              <div class="max-w-5xl mx-auto px-6 py-4 flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-xl bg-indigo-500 flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                  </div>
                  <span class="text-xl font-bold text-gray-900">ShopNow</span>
                </div>
                <div class="flex items-center gap-4">
                  <div class="relative hidden sm:block">
                    <svg class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input type="text" placeholder="Search products..." class="pl-10 pr-4 py-2 bg-gray-100 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 w-48">
                  </div>
                  <button onclick="openCart()" class="relative p-2.5 hover:bg-gray-100 rounded-xl transition-colors">
                    <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span id="cart-badge" class="hidden absolute -top-1 -right-1 w-5 h-5 bg-indigo-500 text-white text-xs font-bold rounded-full flex items-center justify-center">0</span>
                  </button>
                </div>
              </div>
            </header>

            <!-- Hero -->
            <section class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white py-12 px-6">
              <div class="max-w-5xl mx-auto">
                <span class="inline-block px-3 py-1 bg-white/20 rounded-full text-sm font-medium mb-4">New Arrivals</span>
                <h1 class="text-3xl font-bold mb-3">Premium Tech Collection</h1>
                <p class="text-white/80 max-w-md">Discover our curated selection of high-quality tech accessories.</p>
              </div>
            </section>

            <!-- Products Grid -->
            <section class="max-w-5xl mx-auto px-6 py-10">
              <h2 class="text-xl font-bold text-gray-900 mb-6">Featured Products</h2>
              <div id="products-grid" class="grid grid-cols-2 md:grid-cols-3 gap-5">
                <!-- Products will be rendered here -->
              </div>
            </section>
          </div>

          <!-- MERCHANT VIEW -->
          <div id="view-merchant" class="absolute inset-0 overflow-hidden view-transition opacity-0 pointer-events-none" style="transform: translateX(20px);">
            <div class="min-h-full flex bg-gray-100">

              <!-- Sidebar -->
              <aside class="w-56 bg-slate-900 flex flex-col flex-shrink-0">
                <div class="px-5 py-5 border-b border-slate-800">
                  <div class="flex items-center gap-3">
                    <div class="w-9 h-9 rounded-xl bg-indigo-500 flex items-center justify-center">
                      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                      </svg>
                    </div>
                    <span class="font-bold text-white">ShopNow</span>
                  </div>
                </div>
                <nav class="flex-1 p-3">
                  <ul class="space-y-1">
                    <li>
                      <button class="w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium bg-indigo-500/20 text-indigo-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                        Dashboard
                      </button>
                    </li>
                    <li>
                      <button class="w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        Orders
                      </button>
                    </li>
                    <li>
                      <button class="w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        Products
                      </button>
                    </li>
                    <li>
                      <button class="w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        Customers
                      </button>
                    </li>
                  </ul>
                </nav>
                <div class="p-3 border-t border-slate-800">
                  <button class="w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Settings
                  </button>
                </div>
              </aside>

              <!-- Main Content -->
              <main class="flex-1 flex flex-col min-w-0">
                <header class="px-6 py-4 bg-white border-b border-gray-200 flex items-center justify-between">
                  <h1 class="text-lg font-semibold text-gray-900">Order Management</h1>
                  <div class="flex items-center gap-4">
                    <button class="relative p-2 hover:bg-gray-100 rounded-lg">
                      <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                      </svg>
                      <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                    </button>
                    <div class="w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center">
                      <span class="text-sm font-medium text-indigo-600">AD</span>
                    </div>
                  </div>
                </header>

                <div class="flex-1 p-6 overflow-y-auto custom-scroll">
                  <!-- Stats Cards -->
                  <div class="grid grid-cols-3 gap-5 mb-6">
                    <div class="bg-white rounded-xl p-5 border border-gray-200 animate-fade-in-up">
                      <div class="flex items-center justify-between mb-3">
                        <span class="text-sm text-gray-500">Total Sales</span>
                        <div class="w-9 h-9 rounded-lg bg-emerald-100 flex items-center justify-center">
                          <span class="text-emerald-600 font-bold">₹</span>
                        </div>
                      </div>
                      <p id="stat-sales" class="text-2xl font-bold text-gray-900">₹28,992</p>
                      <p class="text-xs text-emerald-600 flex items-center gap-1 mt-1">
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                        +18% this week
                      </p>
                    </div>
                    <div class="bg-white rounded-xl p-5 border border-gray-200 animate-fade-in-up" style="animation-delay: 0.1s;">
                      <div class="flex items-center justify-between mb-3">
                        <span class="text-sm text-gray-500">Total Orders</span>
                        <div class="w-9 h-9 rounded-lg bg-indigo-100 flex items-center justify-center">
                          <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                          </svg>
                        </div>
                      </div>
                      <p id="stat-orders" class="text-2xl font-bold text-gray-900">5</p>
                      <p class="text-xs text-gray-500 mt-1">This month</p>
                    </div>
                    <div class="bg-white rounded-xl p-5 border border-gray-200 animate-fade-in-up" style="animation-delay: 0.2s;">
                      <div class="flex items-center justify-between mb-3">
                        <span class="text-sm text-gray-500">Pending</span>
                        <div class="w-9 h-9 rounded-lg bg-amber-100 flex items-center justify-center">
                          <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                          </svg>
                        </div>
                      </div>
                      <p id="stat-pending" class="text-2xl font-bold text-gray-900">2</p>
                      <p class="text-xs text-amber-600 mt-1">Needs attention</p>
                    </div>
                  </div>

                  <!-- Orders Table -->
                  <div class="bg-white rounded-xl border border-gray-200 overflow-hidden animate-fade-in-up" style="animation-delay: 0.3s;">
                    <div class="px-5 py-4 border-b border-gray-100">
                      <h2 class="font-semibold text-gray-900">Recent Orders</h2>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="w-full">
                        <thead class="bg-gray-50 border-b border-gray-100">
                          <tr>
                            <th class="text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-5 py-3">Order ID</th>
                            <th class="text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-5 py-3">Customer</th>
                            <th class="text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-5 py-3">Date</th>
                            <th class="text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-5 py-3">Amount</th>
                            <th class="text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-5 py-3">Status</th>
                          </tr>
                        </thead>
                        <tbody id="orders-table" class="divide-y divide-gray-100">
                          <!-- Orders will be rendered here -->
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </main>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Cart Drawer -->
    <div id="cart-backdrop" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="closeCart()"></div>
    <div id="cart-drawer" class="fixed right-0 top-0 bottom-0 w-96 bg-white z-50 flex flex-col shadow-2xl translate-x-full transition-transform duration-300">
      <div class="flex items-center justify-between p-5 border-b border-gray-100">
        <h2 class="text-lg font-bold text-gray-900 flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          Your Cart
          <span id="cart-count" class="text-sm font-normal text-gray-500">(0 items)</span>
        </h2>
        <button onclick="closeCart()" class="p-2 hover:bg-gray-100 rounded-xl">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div id="cart-items" class="flex-1 overflow-y-auto p-5">
        <div id="cart-empty" class="flex flex-col items-center justify-center h-full text-gray-400">
          <svg class="w-12 h-12 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          <p>Your cart is empty</p>
        </div>
        <div id="cart-list" class="space-y-4"></div>
      </div>
      <div id="cart-footer" class="p-5 border-t border-gray-100 bg-gray-50 hidden">
        <div class="flex items-center justify-between mb-4">
          <span class="text-gray-600">Subtotal</span>
          <span id="cart-total" class="text-xl font-bold text-gray-900">₹0</span>
        </div>
        <button onclick="openPayment()" class="w-full py-4 bg-indigo-500 text-white rounded-xl font-semibold hover:bg-indigo-600 transition-colors flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
          </svg>
          Proceed to Checkout
        </button>
      </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-center justify-center">
      <div id="payment-content" class="bg-white rounded-2xl w-full max-w-md mx-4 overflow-hidden shadow-2xl">
        <!-- Normal Payment State -->
        <div id="payment-form">
          <div class="flex items-center justify-between p-5 border-b border-gray-100">
            <h2 class="text-lg font-bold text-gray-900">Complete Payment</h2>
            <button onclick="closePayment()" class="p-2 hover:bg-gray-100 rounded-xl">
              <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="p-5 bg-gray-50 border-b border-gray-100">
            <p class="text-sm text-gray-500 mb-1">Amount to Pay</p>
            <p id="payment-amount" class="text-3xl font-bold text-gray-900">₹0</p>
          </div>
          <div class="p-5">
            <p class="text-sm font-medium text-gray-700 mb-3">Select Payment Method</p>
            <div class="grid grid-cols-2 gap-3 mb-5">
              <button onclick="selectPaymentMethod('upi')" id="method-upi" class="p-4 rounded-xl border-2 border-indigo-500 bg-indigo-50 flex flex-col items-center gap-2">
                <svg class="w-7 h-7 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                </svg>
                <span class="text-sm font-medium text-indigo-700">UPI / QR</span>
              </button>
              <button onclick="selectPaymentMethod('card')" id="method-card" class="p-4 rounded-xl border-2 border-gray-200 hover:border-gray-300 flex flex-col items-center gap-2">
                <svg class="w-7 h-7 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
                <span class="text-sm font-medium text-gray-600">Credit Card</span>
              </button>
            </div>
            <!-- UPI Section -->
            <div id="upi-section" class="flex flex-col items-center p-5 bg-gray-50 rounded-xl">
              <div class="w-40 h-40 bg-white rounded-xl p-3 mb-4 shadow-sm">
                <div class="w-full h-full grid grid-cols-7 gap-0.5" id="qr-code"></div>
              </div>
              <p class="text-sm text-gray-500 text-center">Scan with any UPI app to pay</p>
              <p class="text-xs text-gray-400 mt-1">merchant@upi</p>
            </div>
            <!-- Card Section -->
            <div id="card-section" class="hidden space-y-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1.5">Card Number</label>
                <input type="text" placeholder="4242 4242 4242 4242" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1.5">Expiry</label>
                  <input type="text" placeholder="MM/YY" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1.5">CVV</label>
                  <input type="text" placeholder="123" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
              </div>
            </div>
          </div>
          <div class="p-5 border-t border-gray-100">
            <button onclick="processPayment()" id="pay-btn" class="w-full py-4 bg-emerald-500 text-white rounded-xl font-semibold hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span id="pay-btn-text">Pay ₹0</span>
            </button>
          </div>
        </div>
        <!-- Success State -->
        <div id="payment-success" class="hidden p-10 flex flex-col items-center justify-center">
          <div class="w-20 h-20 rounded-full bg-emerald-100 flex items-center justify-center mb-6 animate-bounce-in">
            <svg class="w-12 h-12 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 mb-2">Payment Successful!</h3>
          <p class="text-gray-500">Your order has been placed.</p>
        </div>
      </div>
    </div>

    <!-- Features List -->
    <div class="mt-10 flex flex-wrap justify-center gap-6 text-sm text-slate-400">
      <div class="flex items-center gap-2">
        <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
        Shopping Cart System
      </div>
      <div class="flex items-center gap-2">
        <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
        Payment Gateway
      </div>
      <div class="flex items-center gap-2">
        <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
        Order Management
      </div>
      <div class="flex items-center gap-2">
        <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
        Inventory Tracking
      </div>
    </div>
  </div>

  <script>
    // ============================================
    // DATA
    // ============================================
    const products = [
      { id: 1, name: 'Wireless Headphones', price: 2999, color: '#6366f1', icon: 'headphones' },
      { id: 2, name: 'Smart Watch Pro', price: 4999, color: '#10b981', icon: 'watch' },
      { id: 3, name: 'Minimal Desk Lamp', price: 1499, color: '#f59e0b', icon: 'lamp' },
      { id: 4, name: 'Smartphone Stand', price: 799, color: '#ec4899', icon: 'stand' },
      { id: 5, name: 'Portable Camera', price: 8999, color: '#8b5cf6', icon: 'camera' },
      { id: 6, name: 'Bluetooth Speaker', price: 1999, color: '#14b8a6', icon: 'speaker' },
    ];

    let orders = [
      { id: 'ORD-001', customer: 'Rahul Sharma', email: 'rahul@example.com', amount: 7998, status: 'pending', date: 'Jan 18, 2025' },
      { id: 'ORD-002', customer: 'Priya Patel', email: 'priya@example.com', amount: 4999, status: 'processing', date: 'Jan 17, 2025' },
      { id: 'ORD-003', customer: 'Amit Kumar', email: 'amit@example.com', amount: 2999, status: 'shipped', date: 'Jan 16, 2025' },
      { id: 'ORD-004', customer: 'Sneha Reddy', email: 'sneha@example.com', amount: 11497, status: 'delivered', date: 'Jan 15, 2025' },
      { id: 'ORD-005', customer: 'Vikram Singh', email: 'vikram@example.com', amount: 1499, status: 'pending', date: 'Jan 18, 2025' },
    ];

    let cart = [];
    let addedProducts = new Set();
    let paymentMethod = 'upi';

    // ============================================
    // ICONS
    // ============================================
    const icons = {
      headphones: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>`,
      watch: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`,
      lamp: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>`,
      stand: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>`,
      camera: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>`,
      speaker: `<svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>`,
    };

    // ============================================
    // INITIALIZATION
    // ============================================
    function init() {
      renderProducts();
      renderOrders();
      generateQRCode();
    }

    // ============================================
    // VIEW SWITCHING
    // ============================================
    function switchView(view) {
      const customerView = document.getElementById('view-customer');
      const merchantView = document.getElementById('view-merchant');
      const btnCustomer = document.getElementById('btn-customer');
      const btnMerchant = document.getElementById('btn-merchant');
      const urlBar = document.getElementById('url-bar');

      if (view === 'customer') {
        customerView.style.opacity = '1';
        customerView.style.transform = 'translateX(0)';
        customerView.style.pointerEvents = 'auto';
        merchantView.style.opacity = '0';
        merchantView.style.transform = 'translateX(20px)';
        merchantView.style.pointerEvents = 'none';

        btnCustomer.classList.add('bg-white', 'text-slate-900', 'shadow-lg');
        btnCustomer.classList.remove('text-slate-400');
        btnMerchant.classList.remove('bg-white', 'text-slate-900', 'shadow-lg');
        btnMerchant.classList.add('text-slate-400');

        urlBar.innerHTML = '<div class="w-2 h-2 rounded-full bg-emerald-500"></div><span class="text-xs text-slate-400">shopnow.store</span>';
      } else {
        merchantView.style.opacity = '1';
        merchantView.style.transform = 'translateX(0)';
        merchantView.style.pointerEvents = 'auto';
        customerView.style.opacity = '0';
        customerView.style.transform = 'translateX(-20px)';
        customerView.style.pointerEvents = 'none';

        btnMerchant.classList.add('bg-white', 'text-slate-900', 'shadow-lg');
        btnMerchant.classList.remove('text-slate-400');
        btnCustomer.classList.remove('bg-white', 'text-slate-900', 'shadow-lg');
        btnCustomer.classList.add('text-slate-400');

        urlBar.innerHTML = '<div class="w-2 h-2 rounded-full bg-emerald-500"></div><span class="text-xs text-slate-400">shopnow.store/admin</span>';

        updateStats();
      }
    }

    // ============================================
    // PRODUCTS
    // ============================================
    function renderProducts() {
      const grid = document.getElementById('products-grid');
      grid.innerHTML = products.map((product, index) => `
        <div class="bg-white rounded-2xl overflow-hidden border border-gray-100 group animate-fade-in-up" style="animation-delay: ${index * 0.1}s; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);">
          <div class="h-48 flex items-center justify-center relative overflow-hidden" style="background-color: ${product.color}10;">
            <div class="w-24 h-24 rounded-2xl flex items-center justify-center transition-transform group-hover:scale-110" style="background-color: ${product.color}20; color: ${product.color};">
              ${icons[product.icon]}
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-semibold text-gray-900 mb-1">${product.name}</h3>
            <p class="text-2xl font-bold text-gray-900 mb-4 flex items-center">
              <span class="text-sm font-normal text-gray-500 mr-1">₹</span>
              ${formatPrice(product.price)}
            </p>
            <button id="btn-${product.id}" onclick="addToCart(${product.id})" class="w-full py-3 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 bg-gray-900 text-white hover:bg-gray-800">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
              </svg>
              Add to Cart
            </button>
          </div>
        </div>
      `).join('');
    }

    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      const btn = document.getElementById(`btn-${productId}`);

      const existing = cart.find(item => item.id === productId);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ ...product, quantity: 1 });
      }

      // Update button
      btn.innerHTML = `
        <svg class="w-5 h-5 animate-bounce-in" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        Added!
      `;
      btn.classList.remove('bg-gray-900', 'hover:bg-gray-800');
      btn.classList.add('bg-emerald-500');

      // Reset button after 2 seconds
      setTimeout(() => {
        btn.innerHTML = `
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          Add to Cart
        `;
        btn.classList.add('bg-gray-900', 'hover:bg-gray-800');
        btn.classList.remove('bg-emerald-500');
      }, 2000);

      updateCartBadge();
      renderCart();
    }

    // ============================================
    // CART
    // ============================================
    function updateCartBadge() {
      const badge = document.getElementById('cart-badge');
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);
      if (count > 0) {
        badge.textContent = count;
        badge.classList.remove('hidden');
        badge.classList.add('flex', 'animate-bounce-in');
      } else {
        badge.classList.add('hidden');
      }
    }

    function openCart() {
      document.getElementById('cart-backdrop').classList.remove('hidden');
      document.getElementById('cart-drawer').classList.remove('translate-x-full');
      renderCart();
    }

    function closeCart() {
      document.getElementById('cart-backdrop').classList.add('hidden');
      document.getElementById('cart-drawer').classList.add('translate-x-full');
    }

    function renderCart() {
      const emptyEl = document.getElementById('cart-empty');
      const listEl = document.getElementById('cart-list');
      const footerEl = document.getElementById('cart-footer');
      const countEl = document.getElementById('cart-count');
      const totalEl = document.getElementById('cart-total');

      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

      countEl.textContent = `(${totalItems} items)`;
      totalEl.textContent = `₹${formatPrice(totalPrice)}`;

      if (cart.length === 0) {
        emptyEl.classList.remove('hidden');
        listEl.innerHTML = '';
        footerEl.classList.add('hidden');
      } else {
        emptyEl.classList.add('hidden');
        footerEl.classList.remove('hidden');
        listEl.innerHTML = cart.map(item => `
          <div class="flex gap-4 p-3 bg-gray-50 rounded-xl">
            <div class="w-16 h-16 rounded-xl flex items-center justify-center flex-shrink-0" style="background-color: ${item.color}15; color: ${item.color};">
              ${icons[item.icon].replace('w-12 h-12', 'w-7 h-7')}
            </div>
            <div class="flex-1 min-w-0">
              <h4 class="font-medium text-gray-900 text-sm truncate">${item.name}</h4>
              <p class="text-gray-900 font-semibold mt-1">₹${formatPrice(item.price)}</p>
            </div>
            <div class="flex items-center gap-2">
              <button onclick="updateQuantity(${item.id}, -1)" class="w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
                </svg>
              </button>
              <span class="w-8 text-center font-medium">${item.quantity}</span>
              <button onclick="updateQuantity(${item.id}, 1)" class="w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
              </button>
            </div>
          </div>
        `).join('');
      }
    }

    function updateQuantity(productId, delta) {
      const item = cart.find(i => i.id === productId);
      if (item) {
        item.quantity += delta;
        if (item.quantity <= 0) {
          cart = cart.filter(i => i.id !== productId);
        }
      }
      updateCartBadge();
      renderCart();
    }

    // ============================================
    // PAYMENT
    // ============================================
    function openPayment() {
      closeCart();
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('payment-amount').textContent = `₹${formatPrice(total)}`;
      document.getElementById('pay-btn-text').textContent = `Pay ₹${formatPrice(total)}`;
      document.getElementById('payment-form').classList.remove('hidden');
      document.getElementById('payment-success').classList.add('hidden');
      document.getElementById('payment-modal').classList.remove('hidden');
    }

    function closePayment() {
      document.getElementById('payment-modal').classList.add('hidden');
    }

    function selectPaymentMethod(method) {
      paymentMethod = method;
      const upiBtn = document.getElementById('method-upi');
      const cardBtn = document.getElementById('method-card');
      const upiSection = document.getElementById('upi-section');
      const cardSection = document.getElementById('card-section');

      if (method === 'upi') {
        upiBtn.classList.add('border-indigo-500', 'bg-indigo-50');
        upiBtn.classList.remove('border-gray-200');
        upiBtn.querySelector('svg').classList.add('text-indigo-500');
        upiBtn.querySelector('svg').classList.remove('text-gray-400');
        upiBtn.querySelector('span').classList.add('text-indigo-700');
        upiBtn.querySelector('span').classList.remove('text-gray-600');

        cardBtn.classList.remove('border-indigo-500', 'bg-indigo-50');
        cardBtn.classList.add('border-gray-200');
        cardBtn.querySelector('svg').classList.remove('text-indigo-500');
        cardBtn.querySelector('svg').classList.add('text-gray-400');
        cardBtn.querySelector('span').classList.remove('text-indigo-700');
        cardBtn.querySelector('span').classList.add('text-gray-600');

        upiSection.classList.remove('hidden');
        cardSection.classList.add('hidden');
      } else {
        cardBtn.classList.add('border-indigo-500', 'bg-indigo-50');
        cardBtn.classList.remove('border-gray-200');
        cardBtn.querySelector('svg').classList.add('text-indigo-500');
        cardBtn.querySelector('svg').classList.remove('text-gray-400');
        cardBtn.querySelector('span').classList.add('text-indigo-700');
        cardBtn.querySelector('span').classList.remove('text-gray-600');

        upiBtn.classList.remove('border-indigo-500', 'bg-indigo-50');
        upiBtn.classList.add('border-gray-200');
        upiBtn.querySelector('svg').classList.remove('text-indigo-500');
        upiBtn.querySelector('svg').classList.add('text-gray-400');
        upiBtn.querySelector('span').classList.remove('text-indigo-700');
        upiBtn.querySelector('span').classList.add('text-gray-600');

        cardSection.classList.remove('hidden');
        upiSection.classList.add('hidden');
      }
    }

    function generateQRCode() {
      const qr = document.getElementById('qr-code');
      let html = '';
      for (let i = 0; i < 49; i++) {
        const isBlack = Math.random() > 0.4;
        html += `<div class="rounded-sm ${isBlack ? 'bg-gray-900' : 'bg-white'}"></div>`;
      }
      qr.innerHTML = html;
    }

    function processPayment() {
      const btn = document.getElementById('pay-btn');
      const btnText = document.getElementById('pay-btn-text');

      btn.disabled = true;
      btn.classList.add('opacity-70');
      btnText.innerHTML = `
        <svg class="w-5 h-5 animate-spin inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="32" stroke-dashoffset="32">
            <animate attributeName="stroke-dashoffset" dur="1s" repeatCount="indefinite" values="32;0"/>
          </circle>
        </svg>
        Processing...
      `;

      setTimeout(() => {
        document.getElementById('payment-form').classList.add('hidden');
        document.getElementById('payment-success').classList.remove('hidden');

        // Add new order
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        const newOrder = {
          id: `ORD-${String(orders.length + 1).padStart(3, '0')}`,
          customer: 'New Customer',
          email: 'customer@example.com',
          amount: total,
          status: 'pending',
          date: 'Jan 18, 2025'
        };
        orders.unshift(newOrder);

        // Clear cart
        cart = [];
        updateCartBadge();

        // Reset button
        btn.disabled = false;
        btn.classList.remove('opacity-70');
        btnText.textContent = `Pay ₹0`;

        // Show toast and close after delay
        setTimeout(() => {
          closePayment();
          showToast('Order placed successfully!');
          renderOrders();
          updateStats();
        }, 1500);
      }, 2000);
    }

    // ============================================
    // ORDERS
    // ============================================
    function renderOrders() {
      const table = document.getElementById('orders-table');
      table.innerHTML = orders.map(order => `
        <tr class="hover:bg-gray-50 transition-colors">
          <td class="px-5 py-4">
            <span class="font-mono text-sm font-medium text-indigo-600">${order.id}</span>
          </td>
          <td class="px-5 py-4">
            <div>
              <p class="font-medium text-gray-900 text-sm">${order.customer}</p>
              <p class="text-xs text-gray-500">${order.email}</p>
            </div>
          </td>
          <td class="px-5 py-4">
            <span class="text-sm text-gray-600">${order.date}</span>
          </td>
          <td class="px-5 py-4">
            <span class="font-semibold text-gray-900">₹${formatPrice(order.amount)}</span>
          </td>
          <td class="px-5 py-4">
            <div class="relative">
              <select onchange="updateOrderStatus('${order.id}', this.value)" class="appearance-none px-3 py-1.5 pr-8 rounded-lg border text-xs font-medium cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 ${getStatusClass(order.status)}">
                <option value="pending" ${order.status === 'pending' ? 'selected' : ''}>Pending</option>
                <option value="processing" ${order.status === 'processing' ? 'selected' : ''}>Processing</option>
                <option value="shipped" ${order.status === 'shipped' ? 'selected' : ''}>Shipped</option>
                <option value="delivered" ${order.status === 'delivered' ? 'selected' : ''}>Delivered</option>
              </select>
              <svg class="w-3 h-3 absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-current" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </div>
          </td>
        </tr>
      `).join('');
    }

    function getStatusClass(status) {
      switch (status) {
        case 'pending': return 'bg-amber-100 text-amber-700 border-amber-200';
        case 'processing': return 'bg-blue-100 text-blue-700 border-blue-200';
        case 'shipped': return 'bg-indigo-100 text-indigo-700 border-indigo-200';
        case 'delivered': return 'bg-emerald-100 text-emerald-700 border-emerald-200';
        default: return 'bg-gray-100 text-gray-700 border-gray-200';
      }
    }

    function updateOrderStatus(orderId, newStatus) {
      const order = orders.find(o => o.id === orderId);
      if (order) {
        order.status = newStatus;
        renderOrders();
        updateStats();
        showToast(`Order ${orderId} updated to ${newStatus}`);
      }
    }

    function updateStats() {
      const totalSales = orders.reduce((sum, o) => sum + o.amount, 0);
      const pendingCount = orders.filter(o => o.status === 'pending').length;

      document.getElementById('stat-sales').textContent = `₹${formatPrice(totalSales)}`;
      document.getElementById('stat-orders').textContent = orders.length;
      document.getElementById('stat-pending').textContent = pendingCount;
    }

    // ============================================
    // UTILITIES
    // ============================================
    function formatPrice(price) {
      return new Intl.NumberFormat('en-IN').format(price);
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      toastMessage.textContent = message;
      toast.classList.remove('hidden');
      setTimeout(() => {
        toast.classList.add('hidden');
      }, 3000);
    }

    // Initialize
    init();
  </script>
</body>
</html>
